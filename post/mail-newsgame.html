{% include "base/header.html" %}


<div class="row">
    <div class="col" style="background: #CCDBBC;">
        <h5 style="text-align: center;color: #CA4D29;padding-top: 5px;"><strong>Новости игры</strong></h5>
    </div>
</div>


<div class="row" style="background: #CCDBBC;">
    <!-- Dynamic Table Simple -->
          <div class="block block-rounded">
            <div class="block-content block-content-full">
              <!-- DataTables init on table by adding .js-dataTable-simple class, functionality is initialized in js/pages/be_tables_datatables.min.js which was auto compiled from _js/pages/be_tables_datatables.js -->
              <table class="table table-bordered table-striped table-vcenter js-dataTable-simple">
                <tbody>
                    {% for message in list_message %}
                      <tr>
                        <td class="text-left">
                            <p style="font-size: 16px; text-align: left;color: #CA4D29;padding-bottom: 5px;">{{ message.title }}</p>
                            {{ message.message|safe}}
                            <p style="font-size: 16px; text-align: center;padding-bottom: 5px;">
                            <a href="comment-{{message.id}}"><button style="background-color: orange;">Комментарии {% if message.comment > 0 %}({{ message.comment }}){% endif %}</button></a></p>
                          </td>
                      </tr>
                    {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
          <!-- END Dynamic Table Simple -->
</div>

{% if user_head_info.user_access == 'admin' %}
<form action="mail-gnews" method="post">
<div class="row">
    <div class="col-12" style="background: #CCDBBC;border: 0px;">
        <label>Заголовок:</label>
        <input type="text" name='title' style="width:65%;" required>
    </div>
    <div class="col-12" style="background: #CCDBBC;border: 0px;">
        <label>Сообщение:</label>
        <textarea row="20" id="editor" name="sendnews" style="width: 100%;resize: none;" maxlength="4096"></textarea>
    </div>
</div>
<div class="row" style="background: #CCDBBC;">
    <center><br>
    <button type="submit" style="background-color: red; color: white; border: 0px;">Отправить</button></form><br><br></div>
    {% endif %}
    
    

<script src="https://cdn.tiny.cloud/1/yo55de0s6x059sr6bu8xl62me2zkee9hin5znl2dy2h308o5/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>

<script>
 tinymce.init({
   selector: 'textarea#editor',
   setup: function (editor) {
        editor.on('submit', function (e) {
            editor.save();
        });
    }
 });
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js" integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA==" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>    

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="static/assets/js/paginathing.js"></script>
<script type="text/javascript">
    
  jQuery(document).ready(function($){
    for (var i = 1; i <= 1; i++) {
      $('.list-group').append('<li class="list-group-item"> Item ' + i + '</li>');
    }

    $('.list-group').paginathing({
      perPage: 5,
      limitPagination: 5,
      containerClass: 'panel-footer',
      pageNumbers: true
    })

    $('.table tbody').paginathing({
      perPage: 1,
      insertAfter: '.table',
      pageNumbers: true
    });
  });
</script>

{% include "base/footer.html" %}